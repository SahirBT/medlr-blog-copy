{{!-- This is a partial file used to generate a post "card"
which templates loop over to generate a list of posts. --}}

<article class="relative flex sm:p-8 p-4 md:gap-x-8 gap-x-4">
{{!-- {{#has index="1"}} dynamic{{/has}} --}}
    {{#if feature_image}}
        <div class="flex basis-1/2 justify-end">

            {{!-- This is a responsive image, it loads different sizes depending on device
            https://medium.freecodecamp.org/a-guide-to-responsive-images-with-ready-to-use-templates-c400bd65c433 --}}
            <img class="rounded-[10px] bg-white max-h-[90%]"
                src="{{img_url feature_image size="m"}}"
                alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                loading="lazy"
            />
        </div>
    
    {{/if}}

    <div class="post-card-content flex basis-1/2 justify-center">

        <div class="post-card-content-link text-[#EFEFEF]">
            <header class="post-card-header">
                <div class="post-card-tags">
                    {{#primary_tag}}
                        <span class="post-card-primary-tag">{{name}}</span>
                    {{/primary_tag}}
                    {{#if featured}}
                        <span class="post-card-featured">{{> "icons/fire"}} Featured</span>
                    {{/if}}
                </div>
                <h2 class="post-card-title text-[#EFEFEF] text-left xl:text-6xl lg:text-5xl md:text-3xl md:font-bold sm:text-2xl 2xs:text-lg 2xs:font-black">
                    {{#unless access}}
                    {{^has visibility="public"}}
                        {{#unless feature_image}}
                            {{> "icons/lock"}}
                        {{/unless}}
                    {{/has}}
                    {{/unless}}
                    {{title}}
                </h2>
            </header>
            {{#if excerpt}}
                <div class="post-card-excerpt text-[#EFEFEF] text-justify md:my-8 2xs:my-4 xl:text-4xl lg:text-3xl md:text-xl sm:text-lg xs:text-base 2xs:text-sm">{{excerpt}}</div>
            {{/if}}
        </div>
        <div class="flex">
            <button class="max-w-fit lg:px-12 lg:py-4 sm:px-8 sm:py-2 2xs:px-5 2xs:py-1 rounded-full text-[#2E2D28D9] items-center justify-center bg-[#F1CD4B] hover:text-[#00BFBE]">
                <a href="{{url}}">
                    <div class="xl:text-3xl lg:text-xl md:text-lg 2xs:text-sm font-bold">Read Full Story</div>       
                </a>
            </button>
        </div>
    </div>

</article>
